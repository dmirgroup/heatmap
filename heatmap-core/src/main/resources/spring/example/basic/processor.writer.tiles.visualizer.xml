<?xml version="1.0" encoding="UTF-8"?>
<beans 
	xmlns="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="
		http://www.springframework.org/schema/beans
		http://www.springframework.org/schema/beans/spring-beans.xsd">

	<bean id="colorImage"
			class="de.uniwue.dmir.heatmap.core.util.BufferedImageFactoryBean">

		<constructor-arg name="resource" value="${visualizer.colorscheme}" />
	</bean>
	
	<bean id="colorScheme"
			class="de.uniwue.dmir.heatmap.core.processors.visualizers.color.ImageColorScheme">

		<constructor-arg name="image" ref="colorImage" />
		<constructor-arg name="min" value="0" />
		<constructor-arg name="max" value="10" />
	</bean>
	
	
	<bean id="visualizer"
			class="de.uniwue.dmir.heatmap.core.processors.visualizers.GenericSimpleRbfVisualizer">

		<constructor-arg name="pixelIteratorFactory">
			<bean class="de.uniwue.dmir.heatmap.core.util.MapKeyValueIteratorFactory" />
		</constructor-arg>
		
		<constructor-arg name="aggregator">
			<bean class="de.uniwue.dmir.heatmap.core.processors.visualizers.rbf.aggregators.QuadraticRbfAggregator">
				<constructor-arg name="pixelToValueMapper">
					<bean class="de.uniwue.dmir.heatmap.core.tiles.pixels.mappers.WeightedSumToAverageMapper" />
				</constructor-arg>
				<constructor-arg name="pointRadius" value="20" />
			</bean>
		</constructor-arg>
		
		<constructor-arg name="colorScheme" ref="colorScheme" />
		
		<property name="debug" value="true" />
	</bean>
	
</beans>